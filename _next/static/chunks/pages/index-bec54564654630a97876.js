(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{6483:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return re}});var r,a=t(318),s=t(9008),i=t(7294),c=t(4526),o=t(266),u=t(5523),l=t(809),f=t.n(l),p=t(7163),d=t(9476),m=t(3029),x=t(3789),g=t(5885),h=t(164);!function(e){e[e.Sequential=0]="Sequential",e[e.Parallel=1]="Parallel",e[e.StopOnFailure=2]="StopOnFailure"}(r||(r={}));var b=function(){var e=(0,o.Z)(f().mark((function e(n,t,a,s){var i,c,o,u,l,p,d,m,b,v,y,k,S,T,j=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=j.length>4&&void 0!==j[4]?j[4]:r.Parallel,c=j.length>5&&void 0!==j[5]?j[5]:"singleGossip",o=j.length>6?j[6]:void 0,t.publicKey){e.next=5;break}throw new h.oS;case 5:if(u=[],o){e.next=10;break}return e.next=9,n.getRecentBlockhash(c);case 9:o=e.sent;case 10:l=function(e){var n=a[e],r=s[e];if(0===n.length)return"continue";var i=new g.Transaction;n.forEach((function(e){return i.add(e)})),i.recentBlockhash=o.blockhash,i.setSigners.apply(i,[t.publicKey].concat((0,x.Z)(r.map((function(e){return e.publicKey}))))),r.length>0&&i.partialSign.apply(i,(0,x.Z)(r)),u.push(i)},p=0;case 12:if(!(p<a.length)){e.next=19;break}if("continue"!==l(p)){e.next=16;break}return e.abrupt("continue",16);case 16:p++,e.next=12;break;case 19:return e.next=21,t.signAllTransactions(u);case 21:d=e.sent,m=[],b={breakEarly:!1,i:0},console.log("Signed txns length",d.length,"vs handed in length",a.length),v=[],y=0;case 27:if(!(y<d.length)){e.next=60;break}return k=w({connection:n,signedTransaction:d[y]}),e.prev=29,e.next=32,k;case 32:S=e.sent,T=S.txid,v.push(T),e.next=42;break;case 37:e.prev=37,e.t0=e.catch(29),console.error(e.t0),failCallback(d[y],y),i===r.StopOnFailure&&(b.breakEarly=!0,b.i=y);case 42:if(i===r.Parallel){e.next=56;break}return e.prev=43,e.next=46,k;case 46:e.next=54;break;case 48:if(e.prev=48,e.t1=e.catch(43),console.log("Caught failure",e.t1),!b.breakEarly){e.next=54;break}return console.log("Died on ",b.i),e.abrupt("return",b.i);case 54:e.next=57;break;case 56:m.push(k);case 57:y++,e.next=27;break;case 60:if(i===r.Parallel){e.next=63;break}return e.next=63,Promise.all(m);case 63:return e.abrupt("return",v);case 64:case"end":return e.stop()}}),e,null,[[29,37],[43,48]])})));return function(n,t,r,a){return e.apply(this,arguments)}}(),v=function(){return(new Date).getTime()/1e3},y=15e3;function w(e){return k.apply(this,arguments)}function k(){return(k=(0,o.Z)(f().mark((function e(n){var t,r,a,s,i,c,u,l,p,d,m,x,g;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.signedTransaction,r=n.connection,a=n.timeout,s=void 0===a?y:a,i=t.serialize(),c=v(),u=0,e.next=6,r.sendRawTransaction(i,{skipPreflight:!0});case 6:return l=e.sent,console.log("Started awaiting confirmation for",l),p=!1,(0,o.Z)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p||!(v()-c<s)){e.next=6;break}return r.sendRawTransaction(i,{skipPreflight:!0}),e.next=4,R(500);case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e)})))(),e.prev=10,e.next=13,j(l,s,r,"recent",!0);case 13:if(d=e.sent){e.next=16;break}throw new Error("Timed out awaiting confirmation on transaction");case 16:if(!d.err){e.next=19;break}throw console.error(d.err),new Error("Transaction failed: Custom instruction error");case 19:u=(null===d||void 0===d?void 0:d.slot)||0,e.next=47;break;case 22:if(e.prev=22,e.t0=e.catch(10),console.error("Timeout Error caught",e.t0),!e.t0.timeout){e.next=27;break}throw new Error("Timed out awaiting confirmation on transaction");case 27:return m=null,e.prev=28,e.next=31,S(r,t,"single");case 31:m=e.sent.value,e.next=36;break;case 34:e.prev=34,e.t1=e.catch(28);case 36:if(!m||!m.err){e.next=47;break}if(!m.logs){e.next=46;break}x=m.logs.length-1;case 39:if(!(x>=0)){e.next=46;break}if(!(g=m.logs[x]).startsWith("Program log: ")){e.next=43;break}throw new Error("Transaction failed: "+g.slice("Program log: ".length));case 43:--x,e.next=39;break;case 46:throw new Error(JSON.stringify(m.err));case 47:return e.prev=47,p=!0,e.finish(47);case 50:return console.log("Latency",l,v()-c),e.abrupt("return",{txid:l,slot:u});case 52:case"end":return e.stop()}}),e,null,[[10,22,47,50],[28,34]])})))).apply(this,arguments)}function S(e,n,t){return T.apply(this,arguments)}function T(){return(T=(0,o.Z)(f().mark((function e(n,t,r){var a,s,i,c,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._recentBlockhash(n._disableBlockhashCaching);case 2:return t.recentBlockhash=e.sent,a=t.serializeMessage(),s=t._serialize(a),i=s.toString("base64"),c=[i,{encoding:"base64",commitment:r}],e.next=10,n._rpcRequest("simulateTransaction",c);case 10:if(!(o=e.sent).error){e.next=13;break}throw new Error("failed to simulate transaction: "+o.error.message);case 13:return e.abrupt("return",o.result);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,n,t){return P.apply(this,arguments)}function P(){return(P=(0,o.Z)(f().mark((function e(n,t,r){var a,s,i,c,u,l=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>3&&void 0!==l[3]?l[3]:"recent",s=l.length>4&&void 0!==l[4]&&l[4],i=!1,c={slot:0,confirmations:0,err:null},u=0,e.next=7,new Promise(function(){var e=(0,o.Z)(f().mark((function e(l,p){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){i||(i=!0,console.log("Rejecting for timeout..."),p({timeout:!0}))}),t);try{u=r.onSignature(n,(function(e,n){i=!0,c={err:e.err,slot:n.slot,confirmations:0},e.err?(console.log("Rejected via websocket",e.err),p(c)):(console.log("Resolved via websocket",e),l(c))}),a)}catch(d){i=!0,console.error("WS error in setup",n,d)}case 2:if(i||!s){e.next=8;break}return(0,o.Z)(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([n]);case 3:t=e.sent,c=t&&t.value[0],i||(c?c.err?(console.log("REST error for",n,c),i=!0,p(c.err)):c.confirmations?(console.log("REST confirmation for",n,c),i=!0,l(c)):console.log("REST no confirmations for",n,c):console.log("REST null result for",n,c)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),i||console.log("REST connection error: txid",n,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=6,R(2e3);case 6:e.next=2;break;case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}());case 7:return c=e.sent,r._signatureSubscriptions[u]&&r.removeSignatureListener(u),i=!0,console.log("Returning status",c),e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=function(e){return new Promise((function(n){return setTimeout(n,e)}))},E=new p.rV.ew("https://explorer-api.devnet.solana.com");function A(e,n){return N.apply(this,arguments)}function N(){return(N=(0,o.Z)(f().mark((function e(n,t){var r,a,s,i,c,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.vK.getProgramAccounts(E,{filters:[{memcmp:{offset:326,bytes:n}}]});case 2:r=e.sent,a=[],s=0;case 5:if(!(s<r.length)){e.next=15;break}return i=r[s],e.next=9,E.getParsedAccountInfo(i.pubkey);case 9:c=e.sent,o=new d.SF(n.toString(),c.value),t?a.push(o.data):a.push(o.data.mint);case 12:s++,e.next=5;break;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=t(8764).Buffer,Z=new p.rV.nh("cndyAnrLdpjq1Ssp1z8xxDsB8dxe7u4HL5Nxi2K5WXZ"),K=new p.rV.nh("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),O=new p.rV.nh("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),_=function(){var e=(0,o.Z)(f().mark((function e(n,t,r){var a,s,i,c,u,l=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>3&&void 0!==l[3]?l[3]:"recent",s=l.length>4&&void 0!==l[4]&&l[4],i=!1,c={slot:0,confirmations:0,err:null},u=0,e.next=7,new Promise(function(){var e=(0,o.Z)(f().mark((function e(l,p){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){i||(i=!0,console.log("Rejecting for timeout..."),p({timeout:!0}))}),t);try{u=r.onSignature(n,(function(e,n){i=!0,c={err:e.err,slot:n.slot,confirmations:0},e.err?(console.log("Rejected via websocket",e.err),p(c)):(console.log("Resolved via websocket",e),l(c))}),a)}catch(d){i=!0,console.error("WS error in setup",n,d)}case 2:if(i||!s){e.next=8;break}return(0,o.Z)(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([n]);case 3:t=e.sent,c=t&&t.value[0],i||(c?c.err?(console.log("REST error for",n,c),i=!0,p(c.err)):c.confirmations?(console.log("REST confirmation for",n,c),i=!0,l(c)):console.log("REST no confirmations for",n,c):console.log("REST null result for",n,c)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),i||console.log("REST connection error: txid",n,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=6,R(2e3);case 6:e.next=2;break;case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}());case 7:return c=e.sent,r._signatureSubscriptions[u]&&r.removeSignatureListener(u),i=!0,console.log("Returning status",c),e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),V=function(e,n,t,r){var a=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:p.rV.yc.programId,isSigner:!1,isWritable:!1},{pubkey:m.H_,isSigner:!1,isWritable:!1},{pubkey:p.rV.ze,isSigner:!1,isWritable:!1}];return new p.rV.Sl({keys:a,programId:K,data:M.from([])})},B=function(){var e=(0,o.Z)(f().mark((function e(n,t,r){var a,s,i,c,o,u,l,d,m;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new p.zt(r,n,{preflightCommitment:"recent"}),e.next=3,p.$r.fetchIdl(Z,a);case 3:if(!(s=e.sent)){e.next=18;break}return i=new p.$r(s,Z,a),c={id:t,connection:r,program:i},e.next=9,i.account.candyMachine.fetch(t);case 9:return o=e.sent,u=o.data.itemsAvailable.toNumber(),l=o.itemsRedeemed.toNumber(),d=u-l,m=o.data.goLiveDate.toNumber(),m=new Date(1e3*m),e.abrupt("return",{candyMachine:c,itemsAvailable:u,itemsRedeemed:l,itemsRemaining:d,goLiveDate:m});case 18:throw new Error("Fetching idl returned null: check CANDY_MACHINE_PROGRAM");case 19:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),L=function(){var e=(0,o.Z)(f().mark((function e(n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.rV.nh.findProgramAddress([M.from("metadata"),O.toBuffer(),n.toBuffer(),M.from("edition")],O);case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),D=function(){var e=(0,o.Z)(f().mark((function e(n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.rV.nh.findProgramAddress([M.from("metadata"),O.toBuffer(),n.toBuffer()],O);case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),F=function(){var e=(0,o.Z)(f().mark((function e(n,t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.rV.nh.findProgramAddress([n.toBuffer(),m.H_.toBuffer(),t.toBuffer()],K);case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();function C(e,n){return I.apply(this,arguments)}function I(){return(I=(0,o.Z)(f().mark((function e(n,t){var r,s,i,c,o,u,l,x,g,h,b,v;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("DZGy49QeuSUyBB5aE2WcjTzNMmkC16XSJKnHZH2QwVdv");case 2:return r=e.sent,s=[],e.next=6,n.getParsedTokenAccountsByOwner(t,{programId:m.H_});case 6:i=e.sent,c=0;case 8:if(!(c<i.value.length)){e.next=33;break}if(o=i.value[c],"1"!=(u=o.account.data.parsed.info.tokenAmount).amount||"0"!=u.decimals||!r.includes(o.account.data.parsed.info.mint)){e.next=30;break}return e.next=14,p.rV.nh.findProgramAddress([M.from("metadata"),O.toBuffer(),new p.rV.nh(o.account.data.parsed.info.mint).toBuffer()],O);case 14:return l=e.sent,x=(0,a.Z)(l,1),g=x[0],e.next=19,n.getParsedAccountInfo(g);case 19:return h=e.sent,b=new d.SF(t.toString(),h.value),e.next=23,fetch(b.data.data.uri);case 23:if(200!==(v=e.sent).status){e.next=30;break}return e.t0=s,e.next=28,v.json();case 28:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 30:c++,e.next=8;break;case 33:return e.abrupt("return",s);case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W=function(){var e=(0,o.Z)(f().mark((function e(n,t,r,a){var s,i,c,o,u,l,d;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=p.rV.RG.generate(),e.next=3,F(r,s.publicKey);case 3:return i=e.sent,c=n.connection,o=n.program,e.next=7,D(s.publicKey);case 7:return u=e.sent,e.next=10,L(s.publicKey);case 10:return l=e.sent,e.next=13,c.getMinimumBalanceForRentExemption(m.qT.span);case 13:return d=e.sent,e.next=16,o.rpc.mintNft({accounts:{config:t,candyMachine:n.id,payer:r,wallet:a,mint:s.publicKey,metadata:u,masterEdition:l,mintAuthority:r,updateAuthority:r,tokenMetadataProgram:O,tokenProgram:m.H_,systemProgram:p.rV.yc.programId,rent:p.rV.ze,clock:p.rV.Am},signers:[s],instructions:[p.rV.yc.createAccount({fromPubkey:r,newAccountPubkey:s.publicKey,space:m.qT.span,lamports:d,programId:m.H_}),m.WU.createInitMintInstruction(m.H_,s.publicKey,0,r,r),V(i,r,r,s.publicKey),m.WU.createMintToInstruction(m.H_,s.publicKey,i,r,[],1)]});case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})));return function(n,t,r,a){return e.apply(this,arguments)}}(),H=function(){var e=(0,o.Z)(f().mark((function e(n,t,r,a){var s,i,c,o,u,l,d,x,g,h,v,y,w=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=w.length>4&&void 0!==w[4]?w[4]:2,i=[],c=[],o=0;case 4:if(!(o<s)){e.next=31;break}return u=p.rV.RG.generate(),e.next=8,F(r,u.publicKey);case 8:return l=e.sent,d=n.connection,e.next=12,d.getMinimumBalanceForRentExemption(m.qT.span);case 12:return x=e.sent,g=[p.rV.yc.createAccount({fromPubkey:r,newAccountPubkey:u.publicKey,space:m.qT.span,lamports:x,programId:m.H_}),m.WU.createInitMintInstruction(m.H_,u.publicKey,0,r,r),V(l,r,r,u.publicKey),m.WU.createMintToInstruction(m.H_,u.publicKey,l,r,[],1)],e.next=16,L(u.publicKey);case 16:return h=e.sent,e.next=19,D(u.publicKey);case 19:return v=e.sent,e.t0=g,e.next=23,n.program.instruction.mintNft({accounts:{config:t,candyMachine:n.id,payer:r,wallet:a,mint:u.publicKey,metadata:v,masterEdition:h,mintAuthority:r,updateAuthority:r,tokenMetadataProgram:O,tokenProgram:m.H_,systemProgram:p.rV.yc.programId,rent:p.rV.ze,clock:p.rV.Am}});case 23:e.t1=e.sent,e.t0.push.call(e.t0,e.t1),y=[u],i.push(y),c.push(g);case 28:o++,e.next=4;break;case 31:return e.next=33,b(n.program.provider.connection,n.program.provider.wallet,c,i);case 33:return e.abrupt("return",e.sent);case 34:case"end":return e.stop()}}),e)})));return function(n,t,r,a){return e.apply(this,arguments)}}(),U=t(8279),q=t(7627),z=t(7730),G=new p.rV.nh("8SFtEfBL19mXfm94xLD11cj6LA6cd5jEnVufEDxy6hBd"),Q=new p.rV.nh("2jj4nFUHCJyEKPyorf6daB7bNejxSpTQFoQFVm67USUu"),J=new p.rV.nh("DZGy49QeuSUyBB5aE2WcjTzNMmkC16XSJKnHZH2QwVdv"),X=new p.rV.ew("https://explorer-api.devnet.solana.com");var Y=t(8130),$=new p.rV.ew("https://explorer-api.devnet.solana.com"),ee=function(){var e=(0,q.Os)(),n=(0,i.useState)(!1),t=n[0],r=n[1],a=(0,i.useState)([]),s=a[0],c=a[1];return(0,i.useEffect)((function(){(0,o.Z)(f().mark((function n(){var t;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&e.publicKey&&e.signAllTransactions&&e.signTransaction){n.next=2;break}return n.abrupt("return");case 2:return r(!0),n.next=5,C($,e.publicKey);case 5:t=n.sent,c(t),r(!1);case 8:case"end":return n.stop()}}),n)})))()}),[e]),[t,s]},ne=t(5893);function te(e){var n=e.nft;return(0,i.useEffect)((function(){console.log(n)}),[]),(0,ne.jsxs)("div",{className:"flex flex-col w-1/4 p-3 border-2 border-black",children:[(0,ne.jsx)("img",{src:n.image,alt:n.description||n.name}),(0,ne.jsxs)("div",{className:"flex justify-between mt-2",children:[(0,ne.jsx)("p",{children:n.name}),(0,ne.jsx)("p",{className:"font-bold",children:n.symbol})]})]})}function re(){var e=(0,z.Z)(),n=(0,a.Z)(e,1)[0],t=function(){var e,n=(0,z.Z)(),t=(0,a.Z)(n,2)[1],r=(0,i.useState)(),s=r[0],c=r[1],l=(0,q.Os)(),p=(0,i.useState)((e={itemsRemaining:0,itemsRedeemed:0,itemsAvailable:0},(0,u.Z)(e),e)),d=p[0],m=p[1],x=(0,i.useState)(!1),h=x[0],b=x[1],v=(0,i.useState)(!1),y=v[0],w=v[1],k=(0,i.useState)(new Date(parseInt("1637265600000",10))),S=k[0],T=k[1];return(0,i.useEffect)((function(){(0,o.Z)(f().mark((function e(){var n,t,r,a,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&l.publicKey&&l.signAllTransactions&&l.signTransaction){e.next=2;break}return e.abrupt("return");case 2:return n={publicKey:l.publicKey,signAllTransactions:l.signAllTransactions,signTransaction:l.signTransaction},e.next=5,B(n,J,X);case 5:t=e.sent,r=t.candyMachine,a=t.goLiveDate,s=t.itemsRemaining,w(0===s),T(a),c(r);case 12:case"end":return e.stop()}}),e)})))()}),[l,J,X]),(0,i.useEffect)((function(){(0,o.Z)(f().mark((function e(){var n,t,r,a,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=9;break}return n={publicKey:l.publicKey,signAllTransactions:l.signAllTransactions,signTransaction:l.signTransaction},e.next=4,B(n,J,X);case 4:t=e.sent,r=t.itemsRemaining,a=t.itemsRedeemed,s=t.itemsAvailable,m({itemsRemaining:r,itemsRedeemed:a,itemsAvailable:s});case 9:case"end":return e.stop()}}),e)})))()}),[l,J,X,h]),{isSoldOut:y,mintStartDate:S,isMinting:h,nftsData:d,startMint:function(){var e=(0,o.Z)(f().mark((function e(){var n,r,a,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,b(!0),!(l.connected&&null!==s&&void 0!==s&&s.program&&l.publicKey)){e.next=10;break}return e.next=5,W(s,Q,l.publicKey,G);case 5:return n=e.sent,e.next=8,_(n,3e4,X,"singleGossip",!1);case 8:null!==(r=e.sent)&&void 0!==r&&r.err?U.ZP.error("Mint failed! Please try again!"):U.ZP.success("Congratulations! Mint succeeded! Check your wallet :)");case 10:e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),a=e.t0.message||"Minting failed! Please try again!",e.t0.message?311===e.t0.code?(a="SOLD OUT!",w(!0)):312===e.t0.code&&(a="Minting period hasn't started yet."):e.t0.message.indexOf("0x138")||(e.t0.message.indexOf("0x137")?a="SOLD OUT!":e.t0.message.indexOf("0x135")&&(a="Insufficient funds to mint. Please fund your wallet.")),U.ZP.error(a);case 17:if(e.prev=17,null===l||void 0===l||!l.publicKey){e.next=23;break}return e.next=21,X.getBalance(null===l||void 0===l?void 0:l.publicKey);case 21:i=e.sent,t(i/g.LAMPORTS_PER_SOL);case 23:return b(!1),e.finish(17);case 25:case"end":return e.stop()}}),e,null,[[0,12,17,25]])})));return function(){return e.apply(this,arguments)}}(),startMintMultiple:function(){var e=(0,o.Z)(f().mark((function e(n){var r,a,i,c,o,u,p,d,m,x,h,v,y,k;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,b(!0),!(l.connected&&null!==s&&void 0!==s&&s.program&&l.publicKey)){e.next=37;break}return e.next=5,X.getBalance(null===l||void 0===l?void 0:l.publicKey);case 5:return e.t0=e.sent,e.t1=g.LAMPORTS_PER_SOL,r=e.t0/e.t1,a=r-1*n,e.next=11,H(s,Q,l.publicKey,G,n);case 11:for(i=e.sent,c=[],o=0;o<i.length;o++)u=i[o],c.push(_(u,3e4,X,"singleGossip",!0));return e.next=16,Promise.all(c);case 16:for(p=e.sent,d=0,m=0,x=0;x<p.length;x++)null!==(h=p[x])&&void 0!==h&&h.err?m+=1:d+=1;return e.next=22,X.getBalance(null===l||void 0===l?void 0:l.publicKey);case 22:e.t2=e.sent,e.t3=g.LAMPORTS_PER_SOL,v=e.t2/e.t3;case 25:if(!(v>a)){e.next=35;break}return e.next=28,R(1e3);case 28:return e.next=30,X.getBalance(null===l||void 0===l?void 0:l.publicKey);case 30:e.t4=e.sent,e.t5=g.LAMPORTS_PER_SOL,v=e.t4/e.t5,e.next=25;break;case 35:d&&U.ZP.success("Congratulations! ".concat(d," mints succeeded! Your NFT's should appear in your wallet soon :)"),{duration:6e3,position:"bottom-center"}),m&&U.ZP.error("Some mints failed! ".concat(m," mints failed! Check your wallet :("),{duration:6e3,position:"bottom-center"});case 37:e.next=44;break;case 39:e.prev=39,e.t6=e.catch(0),y=e.t6.message||"Minting failed! Please try again!",e.t6.message?311===e.t6.code?(y="SOLD OUT!",w(!0)):312===e.t6.code&&(y="Minting period hasn't started yet."):e.t6.message.indexOf("0x138")||(e.t6.message.indexOf("0x137")?y="SOLD OUT!":e.t6.message.indexOf("0x135")&&(y="Insufficient funds to mint. Please fund your wallet.")),U.ZP.error(y);case 44:if(e.prev=44,null===l||void 0===l||!l.publicKey){e.next=50;break}return e.next=48,X.getBalance(null===l||void 0===l?void 0:l.publicKey);case 48:k=e.sent,t(k/g.LAMPORTS_PER_SOL);case 50:return b(!1),e.finish(44);case 52:case"end":return e.stop()}}),e,null,[[0,39,44,52]])})));return function(n){return e.apply(this,arguments)}}()}}(),r=t.isSoldOut,l=t.mintStartDate,p=t.isMinting,d=t.startMint,m=t.startMintMultiple,x=t.nftsData,h=ee(),b=(0,a.Z)(h,2),v=(b[0],b[1]),y=(0,q.Os)().connected,w=(0,i.useState)(!1),k=(w[0],w[1]);(0,i.useEffect)((function(){new Date(l).getTime()<Date.now()&&k(!0)}),[]);var S=function(){var e=(0,i.useState)(5),n=e[0],t=e[1];return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)("button",{onClick:function(){return m(n)},disabled:p,className:"px-4 py-2 mx-auto font-bold text-white transition-opacity rounded-lg hover:opacity-70 bg-gradient-to-br from-green-300 via-blue-500 to-purple-600",children:p?"loading":"mint ".concat(n)}),(0,ne.jsx)("input",{disabled:p,type:"number",min:2,max:10,className:"px-2 mx-auto mt-5 font-bold text-white bg-gray-500",value:n,onChange:function(e){return t(e.target.value)}}),(0,ne.jsx)("p",{className:"mx-auto mt-2",children:"min 2; max 10;"})]})};return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)(s.default,{children:[(0,ne.jsx)("title",{children:"next-candy-machine"}),(0,ne.jsx)("meta",{name:"description",content:"Simplified NextJs with typescript example app integrated with Metaplex's Candy Machine"}),(0,ne.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,ne.jsxs)("div",{className:"flex flex-col items-center min-h-screen mx-6",children:[(0,ne.jsx)(U.x7,{}),(0,ne.jsxs)("div",{className:"flex items-center justify-between w-full mt-3",children:[(0,ne.jsx)("h1",{className:"text-2xl font-bold",children:"next-candy-machine"}),(0,ne.jsxs)("div",{className:"flex items-center",children:[y&&(0,ne.jsxs)("div",{className:"flex items-end mr-2",children:[(0,ne.jsx)("p",{className:"text-xs text-gray-400",children:"balance"}),(0,ne.jsx)("p",{className:"mx-1 font-bold leading-none",children:n.toFixed(2)}),(0,ne.jsx)("p",{className:"font-bold leading-none text-transparent bg-clip-text",style:{backgroundImage:"linear-gradient(to bottom right, #00FFA3, #03E1FF, #DC1FFF)"},children:"SOL"})]}),(0,ne.jsx)(c.aD,{})]})]}),y&&(0,ne.jsxs)("p",{className:"mr-auto text-sm",children:[(0,ne.jsx)("span",{className:"font-bold",children:"Available/Minted/Total:"})," ",x.itemsRemaining,"/",x.itemsRedeemed,"/",x.itemsAvailable]}),(0,ne.jsx)("div",{className:"flex items-start justify-center w-11/12 my-10",children:y?(0,ne.jsx)(ne.Fragment,{children:new Date(l).getTime()<Date.now()?(0,ne.jsx)(ne.Fragment,{children:r?(0,ne.jsx)("p",{children:"SOLD OUT"}):(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)("div",{className:"flex flex-col w-1/2",children:[(0,ne.jsx)("h1",{className:"mb-10 text-3xl font-bold",children:"Mint One"}),(0,ne.jsx)("button",{onClick:d,disabled:p,className:"px-4 py-2 mx-auto font-bold text-white transition-opacity rounded-lg hover:opacity-70 bg-gradient-to-br from-green-300 via-blue-500 to-purple-600",children:p?"loading":"mint 1"})]}),(0,ne.jsxs)("div",{className:"flex flex-col w-1/2",children:[(0,ne.jsx)("h1",{className:"mb-10 text-3xl font-bold",children:"Mint Many"}),(0,ne.jsx)(S,{})]})]})}):(0,ne.jsx)(Y.ZP,{date:l,onMount:function(e){return e.completed&&k(!0)},onComplete:function(){return k(!0)}})}):(0,ne.jsx)("p",{children:"connect wallet to mint"})}),(0,ne.jsxs)("div",{className:"flex flex-col w-full",children:[(0,ne.jsx)("h2",{className:"text-2xl font-bold",children:"My NFTs"}),(0,ne.jsx)("div",{className:"flex mt-3 gap-x-2",children:v.map((function(e,n){return(0,ne.jsx)(te,{nft:e},n)}))})]})]})]})}},5301:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(6483)}])},8186:function(){},2826:function(){},1916:function(){},2415:function(){}},function(e){e.O(0,[774,735,870,977,463,526,707,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);